<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: ZTK::DSL::Base
  
    &mdash; Documentation by YARD 0.8.6.2
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (B)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../ZTK.html" title="ZTK (module)">ZTK</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../DSL.html" title="ZTK::DSL (module)">DSL</a></span></span>
     &raquo; 
    <span class="title">Base</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: ZTK::DSL::Base
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ZTK::DSL::Base</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/ztk/dsl/base.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Generic Domain-specific Language Interface</p>

<p>This module allows you to easily add attributes and relationships to classes
to create a custom DSL in no time.</p>

<p>You can then access these classes in manners similar to what <em>ActiveRecord</em>
provides for relationships.  You can easily link classes together; load
stored objects from Ruby rb files (think Opscode Chef DSL).</p>

<p>I intend the interface to act like ActiveRecord for the programmer and a
nice DSL for the end user.  It&#39;s not meant to be a database; more like
a soft dataset in memory; extremely fast but highly volitale.  As always
you can never have your cake and eat it too.</p>

<p>You specify the &quot;schema&quot; in the classes itself; there is no data storage at
this time, but I do plan to add support for loading/saving <em>datasets</em> to
disk.  Keep in mind since you do not specify type constrants in Ruby, one
can assign any object to an attribute.</p>

<p>At this time if you do not specify an ID; one is auto generated.</p>

<p>If you wish to create objects in a nested fashion the outer most object must
be started using the class name initializer.  Once inside the block you can
start using the relationship names and do not need to call any further
class initializers.</p>

<p>You can also instantiate classes separately and associate them after the
fact.  That is not shown in this example.</p>

<p><em>example code</em>:</p>

<pre class="code ruby"><code class="ruby"><span class='rubyid_class class kw'>class</span> <span class='rubyid_Network constant id'>Network</span> <span class='lt op'>&lt;</span> <span class='rubyid_ZTK constant id'>ZTK</span><span class='colon2 op'>::</span><span class='rubyid_DSL constant id'>DSL</span><span class='colon2 op'>::</span><span class='rubyid_Base constant id'>Base</span>
  <span class='rubyid_has_many identifier id'>has_many</span> <span class='symbol val'>:servers</span>

  <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:name</span>
  <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:gw</span>
  <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:network</span>
  <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:netmask</span>
<span class='rubyid_end end kw'>end</span>

<span class='rubyid_class class kw'>class</span> <span class='rubyid_Server constant id'>Server</span> <span class='lt op'>&lt;</span> <span class='rubyid_ZTK constant id'>ZTK</span><span class='colon2 op'>::</span><span class='rubyid_DSL constant id'>DSL</span><span class='colon2 op'>::</span><span class='rubyid_Base constant id'>Base</span>
  <span class='rubyid_belongs_to identifier id'>belongs_to</span> <span class='symbol val'>:network</span>

  <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:name</span>
<span class='rubyid_end end kw'>end</span>

<span class='rubyid_Network constant id'>Network</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span> <span class='rubyid_do do kw'>do</span>
  <span class='rubyid_id identifier id'>id</span> <span class='symbol val'>:leet_net</span>
  <span class='rubyid_name identifier id'>name</span> <span class='string val'>&quot;leet-net&quot;</span>
  <span class='rubyid_gw identifier id'>gw</span> <span class='string val'>&quot;7.3.3.1&quot;</span>
  <span class='rubyid_network identifier id'>network</span> <span class='string val'>&quot;7.3.3.0&quot;</span>
  <span class='rubyid_netmask identifier id'>netmask</span> <span class='string val'>&quot;255.255.255.0&quot;</span>

  <span class='rubyid_server identifier id'>server</span> <span class='rubyid_do do kw'>do</span>
    <span class='rubyid_name identifier id'>name</span> <span class='string val'>&quot;leet-server&quot;</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_server identifier id'>server</span> <span class='rubyid_do do kw'>do</span>
    <span class='rubyid_id identifier id'>id</span> <span class='symbol val'>:my_server</span>
    <span class='rubyid_name identifier id'>name</span> <span class='string val'>&quot;my-server&quot;</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_server identifier id'>server</span> <span class='rubyid_do do kw'>do</span>
    <span class='rubyid_name identifier id'>name</span> <span class='string val'>&quot;dev-server&quot;</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>

<span class='rubyid_Network constant id'>Network</span><span class='dot token'>.</span><span class='rubyid_count identifier id'>count</span>
<span class='rubyid_Network constant id'>Network</span><span class='dot token'>.</span><span class='rubyid_all identifier id'>all</span>
<span class='rubyid_Network constant id'>Network</span><span class='dot token'>.</span><span class='rubyid_find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:leet_net</span><span class='rparen token'>)</span>

<span class='rubyid_Server constant id'>Server</span><span class='dot token'>.</span><span class='rubyid_count identifier id'>count</span>
<span class='rubyid_Server constant id'>Server</span><span class='dot token'>.</span><span class='rubyid_all identifier id'>all</span>
<span class='rubyid_Server constant id'>Server</span><span class='dot token'>.</span><span class='rubyid_find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:my_server</span><span class='rparen token'>)</span>
</code></pre>

<p><em>pry output</em>:</p>

<pre class="code ruby"><code class="ruby"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='gt op'>&gt;</span> <span class='rubyid_class class kw'>class</span> <span class='rubyid_Network constant id'>Network</span> <span class='lt op'>&lt;</span> <span class='rubyid_ZTK constant id'>ZTK</span><span class='colon2 op'>::</span><span class='rubyid_DSL constant id'>DSL</span><span class='colon2 op'>::</span><span class='rubyid_Base constant id'>Base</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_has_many identifier id'>has_many</span> <span class='symbol val'>:servers</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:name</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:gw</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:network</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:netmask</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span> <span class='rubyid_end end kw'>end</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='comment val'>#&lt;Proc:0x0000000121f498@/home/zpatten/Dropbox/code/chef-repo/vendor/checkouts/ztk/lib/ztk/dsl/core/attributes.rb:45 (lambda)&gt;</span>
<span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='gt op'>&gt;</span> <span class='rubyid_class class kw'>class</span> <span class='rubyid_Server constant id'>Server</span> <span class='lt op'>&lt;</span> <span class='rubyid_ZTK constant id'>ZTK</span><span class='colon2 op'>::</span><span class='rubyid_DSL constant id'>DSL</span><span class='colon2 op'>::</span><span class='rubyid_Base constant id'>Base</span>
<span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_belongs_to identifier id'>belongs_to</span> <span class='symbol val'>:network</span>
<span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>
<span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:name</span>
<span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span> <span class='rubyid_end end kw'>end</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='comment val'>#&lt;Proc:0x00000001983108@/home/zpatten/Dropbox/code/chef-repo/vendor/checkouts/ztk/lib/ztk/dsl/core/attributes.rb:45 (lambda)&gt;</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='gt op'>&gt;</span> <span class='rubyid_Network constant id'>Network</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span> <span class='rubyid_do do kw'>do</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_id identifier id'>id</span> <span class='symbol val'>:leet_net</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_name identifier id'>name</span> <span class='string val'>&quot;leet-net&quot;</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_gw identifier id'>gw</span> <span class='string val'>&quot;7.3.3.1&quot;</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_network identifier id'>network</span> <span class='string val'>&quot;7.3.3.0&quot;</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_netmask identifier id'>netmask</span> <span class='string val'>&quot;255.255.255.0&quot;</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_server identifier id'>server</span> <span class='rubyid_do do kw'>do</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>     <span class='rubyid_name identifier id'>name</span> <span class='string val'>&quot;leet-server&quot;</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_end end kw'>end</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_server identifier id'>server</span> <span class='rubyid_do do kw'>do</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>     <span class='rubyid_id identifier id'>id</span> <span class='symbol val'>:my_server</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>     <span class='rubyid_name identifier id'>name</span> <span class='string val'>&quot;my-server&quot;</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_end end kw'>end</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_server identifier id'>server</span> <span class='rubyid_do do kw'>do</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>     <span class='rubyid_name identifier id'>name</span> <span class='string val'>&quot;dev-server&quot;</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span>   <span class='rubyid_end end kw'>end</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='mult op'>*</span> <span class='rubyid_end end kw'>end</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='comment val'>#&lt;Network id=:leet_net attributes={:id=&gt;:leet_net, :name=&gt;&quot;leet-net&quot;, :gw=&gt;&quot;7.3.3.1&quot;, :network=&gt;&quot;7.3.3.0&quot;, :netmask=&gt;&quot;255.255.255.0&quot;}, has_many_references=1&gt;</span>
<span class='lbrack token'>[</span><span class='integer val'>4</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='gt op'>&gt;</span> <span class='rubyid_Network constant id'>Network</span><span class='dot token'>.</span><span class='rubyid_count identifier id'>count</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span>
<span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='gt op'>&gt;</span> <span class='rubyid_Network constant id'>Network</span><span class='dot token'>.</span><span class='rubyid_all identifier id'>all</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='comment val'>#&lt;Network id=:leet_net attributes={:id=&gt;:leet_net, :name=&gt;&quot;leet-net&quot;, :gw=&gt;&quot;7.3.3.1&quot;, :network=&gt;&quot;7.3.3.0&quot;, :netmask=&gt;&quot;255.255.255.0&quot;}, has_many_references=1&gt;]</span>
<span class='lbrack token'>[</span><span class='integer val'>6</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='gt op'>&gt;</span> <span class='rubyid_Network constant id'>Network</span><span class='dot token'>.</span><span class='rubyid_find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:leet_net</span><span class='rparen token'>)</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='comment val'>#&lt;Network id=:leet_net attributes={:id=&gt;:leet_net, :name=&gt;&quot;leet-net&quot;, :gw=&gt;&quot;7.3.3.1&quot;, :network=&gt;&quot;7.3.3.0&quot;, :netmask=&gt;&quot;255.255.255.0&quot;}, has_many_references=1&gt;]</span>
<span class='lbrack token'>[</span><span class='integer val'>7</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='gt op'>&gt;</span> <span class='rubyid_Server constant id'>Server</span><span class='dot token'>.</span><span class='rubyid_count identifier id'>count</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>3</span>
<span class='lbrack token'>[</span><span class='integer val'>8</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='gt op'>&gt;</span> <span class='rubyid_Server constant id'>Server</span><span class='dot token'>.</span><span class='rubyid_all identifier id'>all</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='comment val'>#&lt;Server id=2 attributes={:id=&gt;2, :name=&gt;&quot;leet-server&quot;, :network_id=&gt;:leet_net}, belongs_to_references=1&gt;,</span>
 <span class='comment val'>#&lt;Server id=:my_server attributes={:id=&gt;:my_server, :name=&gt;&quot;my-server&quot;, :network_id=&gt;:leet_net}, belongs_to_references=1&gt;,</span>
 <span class='comment val'>#&lt;Server id=4 attributes={:id=&gt;4, :name=&gt;&quot;dev-server&quot;, :network_id=&gt;:leet_net}, belongs_to_references=1&gt;]</span>
<span class='lbrack token'>[</span><span class='integer val'>9</span><span class='rbrack token'>]</span> <span class='rubyid_pry identifier id'>pry</span><span class='lparen token'>(</span><span class='rubyid_main identifier id'>main</span><span class='rparen token'>)</span><span class='gt op'>&gt;</span> <span class='rubyid_Server constant id'>Server</span><span class='dot token'>.</span><span class='rubyid_find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:my_server</span><span class='rparen token'>)</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='comment val'>#&lt;Server id=:my_server attributes={:id=&gt;:my_server, :name=&gt;&quot;my-server&quot;, :network_id=&gt;:leet_net}, belongs_to_references=1&gt;]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>Zachary Patten <zachary AT jovelabs DOT com></p>
</div>
      
    </li>
  
</ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Base/ClassMethods.html" title="ZTK::DSL::Base::ClassMethods (module)">ClassMethods</a></span>
    
  
    
  
</p>







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extended-class_method" title="extended (class method)">+ (Object) <strong>extended</strong>(base) </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#included-class_method" title="included (class method)">+ (Object) <strong>included</strong>(base) </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inherited-class_method" title="inherited (class method)">+ (Object) <strong>inherited</strong>(base) </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Base) <strong>initialize</strong>(id = nil, &amp;block) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of Base.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (String) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Instance Inspect.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="ZTK::DSL::Base (class)">Base</a></span></tt>) <strong>initialize</strong>(id = nil, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>A new instance of Base</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155
156
157
158
159
160
161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ztk/dsl/base.rb', line 153</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='rubyid_id identifier id'>id</span><span class='assign token'>=</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_id identifier id'>id</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='rubyid_id identifier id'>id</span> <span class='orop op'>||</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_dataset identifier id'>dataset</span><span class='dot token'>.</span><span class='rubyid_delete_if identifier id'>delete_if</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_d identifier id'>d</span><span class='bitor op'>|</span> <span class='rubyid_d identifier id'>d</span><span class='dot token'>.</span><span class='rubyid_id identifier id'>id</span> <span class='eq op'>==</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_id identifier id'>id</span> <span class='rbrace token'>}</span>
  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_dataset identifier id'>dataset</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_self self kw'>self</span>
  <span class='rubyid_block_given? fid id'>block_given?</span> <span class='rubyid_and and kw'>and</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='rubyid_block identifier id'>block</span><span class='dot token'>.</span><span class='rubyid_arity identifier id'>arity</span> <span class='lt op'>&lt;</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='rubyid_instance_eval identifier id'>instance_eval</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='rubyid_block identifier id'>block</span><span class='dot token'>.</span><span class='rubyid_call identifier id'>call</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='rparen token'>)</span><span class='rparen token'>)</span>

  <span class='comment val'># primary_key_count = self.class.dataset.count do |d|</span>
  <span class='comment val'>#   d.id == self.id</span>
  <span class='comment val'># end</span>
  <span class='comment val'># raise StandardError, &quot;Primary key '#{self.id}' already exists!&quot; if (primary_key_count &gt; 1)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="extended-class_method">
  
    + (<tt>Object</tt>) <strong>extended</strong>(base) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


149
150
151</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ztk/dsl/base.rb', line 149</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_extended identifier id'>extended</span><span class='lparen token'>(</span><span class='rubyid_base identifier id'>base</span><span class='rparen token'>)</span>
  <span class='comment val'># NOOP</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="included-class_method">
  
    + (<tt>Object</tt>) <strong>included</strong>(base) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ztk/dsl/base.rb', line 144</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_included identifier id'>included</span><span class='lparen token'>(</span><span class='rubyid_base identifier id'>base</span><span class='rparen token'>)</span>
  <span class='comment val'># NOOP</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inherited-class_method">
  
    + (<tt>Object</tt>) <strong>inherited</strong>(base) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ztk/dsl/base.rb', line 136</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_inherited identifier id'>inherited</span><span class='lparen token'>(</span><span class='rubyid_base identifier id'>base</span><span class='rparen token'>)</span>
  <span class='rubyid_base identifier id'>base</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:extend</span><span class='comma token'>,</span> <span class='rubyid_ZTK constant id'>ZTK</span><span class='colon2 op'>::</span><span class='rubyid_DSL constant id'>DSL</span><span class='colon2 op'>::</span><span class='rubyid_Base constant id'>Base</span><span class='colon2 op'>::</span><span class='rubyid_ClassMethods constant id'>ClassMethods</span><span class='rparen token'>)</span>
  <span class='rubyid_base identifier id'>base</span><span class='dot token'>.</span><span class='rubyid_instance_eval identifier id'>instance_eval</span> <span class='rubyid_do do kw'>do</span>
    <span class='rubyid_attribute identifier id'>attribute</span> <span class='symbol val'>:id</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="inspect-instance_method">
  
    - (<tt>String</tt>) <strong>inspect</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Instance Inspect</p>

<p>Inspect the DSL object&#39;s instance, returning a concise string
representation of the instance.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A concise string representation of the instance.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


171
172
173
174
175
176
177</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ztk/dsl/base.rb', line 171</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_inspect identifier id'>inspect</span>
  <span class='rubyid_details identifier id'>details</span> <span class='assign token'>=</span> <span class='rubyid_Array constant id'>Array</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span>
  <span class='rubyid_details identifier id'>details</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;attributes=#{attributes.inspect}&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='rubyid_count identifier id'>count</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
  <span class='rubyid_details identifier id'>details</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;has_many_references=#{@has_many_references.count}&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@has_many_references ivar id'>@has_many_references</span>
  <span class='rubyid_details identifier id'>details</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;belongs_to_references=#{@belongs_to_references.count}&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@belongs_to_references ivar id'>@belongs_to_references</span>
  <span class='dstring node'>&quot;#&lt;#{self.class.to_s} id=#{self.id.inspect} #{details.join(', ')}&gt;&quot;</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sun Jun 30 18:25:29 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.6.2 (ruby-1.8.7).
</div>

  </body>
</html>